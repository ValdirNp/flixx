!function(e){var t={};function a(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,a),r.l=!0,r.exports}a.m=e,a.c=t,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=0)}([function(e,t){const{API_KEY:a}=Object({API_KEY:"fc54351946697efa7c0332de2e9bd82a"}),{Container:n,makeStyles:r,createMuiTheme:i,colors:o,CssBaseline:l,ThemeProvider:c,Typography:m,Box:s,Button:d,Grid:u,CardActionArea:p,Card:g,CardContent:f,Hidden:h,CardMedia:v,Divider:R,TextField:b,FormControl:y,InputLabel:E,Input:x,Select:_,MenuItem:S,Slider:M}=MaterialUI,C=i({palette:{primary:{main:"#556cd6"},secondary:{main:"#19857b"},error:{main:o.red.A400},background:{default:"#000000"}}}),w=r(e=>({root:{display:"flex",flexDirection:"column",minHeight:"100vh",backgroundColor:e.palette.background.default},main:{marginTop:e.spacing(8),marginBottom:e.spacing(2)},footer:{padding:e.spacing(3,2),marginTop:"auto",backgroundColor:"light"===e.palette.type?e.palette.grey[200]:e.palette.grey[800]},card:{display:"flex",minHeight:"60vh"},cardDetails:{flex:1},cardMedia:{width:300},netflixButton:{background:"#E50914"},divider:{marginTop:"25px",marginBottom:"25px"},formControl:{margin:e.spacing(1),minWidth:400,maxWidth:700}}));function P(){return React.createElement(s,{color:"#E50914",m:"auto"},React.createElement(m,{variant:"h2",component:"h1",gutterBottom:!0},"Flixx"))}function T(e){const t=w(),a={PaperProps:{style:{maxHeight:224,width:250}}};selectGenre=e.selectGenre,setYears=e.setYears;const n=(e,t,a)=>({fontWeight:-1===t.indexOf(e)?a.typography.fontWeightRegular:a.typography.fontWeightMedium});return React.createElement("div",null,React.createElement(y,{className:t.formControl},React.createElement(m,{id:"gender-label",gutterBottom:!0},"Gêneros"),React.createElement(_,{labelId:"gender-label",id:"gender",multiple:!0,value:e.selectedGenres,onChange:e=>{selectGenre(e.target.value)},input:React.createElement(x,null),MenuProps:a},[{id:28,name:"Ação"},{id:12,name:"Aventura"},{id:16,name:"Animação"},{id:35,name:"Comédia"},{id:80,name:"Crime"},{id:99,name:"Documentário"},{id:18,name:"Drama"},{id:10751,name:"Família"},{id:14,name:"Fantasia"},{id:36,name:"História"},{id:27,name:"Terror"},{id:10402,name:"Música"},{id:9648,name:"Mistério"},{id:10749,name:"Romance"},{id:878,name:"Ficção científica"},{id:10770,name:"Cinema TV"},{id:53,name:"Thriller"},{id:10752,name:"Guerra"},{id:37,name:"Faroeste"}].map(t=>React.createElement(S,{key:t.id,value:t.id,style:n(t.name,e.selectedGenres,C)},t.name)))),React.createElement(y,{className:t.formControl},React.createElement(m,{id:"years-label",gutterBottom:!0},"Entre os anos"),React.createElement(M,{labelId:"years-label",value:e.years,onChange:(e,t)=>{setYears(t)},valueLabelDisplay:"auto","aria-labelledby":"range-slider",min:1900,step:1,max:2020})))}function k(e){return React.createElement(d,{variant:"contained",color:"primary",onClick:e.getSuggestion},"Sugerir um filme!")}function B(e){const t=w();return""!==e.movie.title?React.createElement(u,{item:!0,xs:12},React.createElement(p,{component:"a",href:"#"},React.createElement(g,{className:t.card},React.createElement(h,{xsDown:!0},React.createElement(v,{className:t.cardMedia,image:e.movie.poster,title:"imageTitle"})),React.createElement("div",{className:t.cardDetails},React.createElement(f,null,React.createElement(m,{component:"h2",variant:"h5"},e.movie.title),React.createElement(m,{variant:"subtitle1",color:"textSecondary"},"Nome Original: ",e.movie.original_title),React.createElement(m,{variant:"subtitle1",color:"textSecondary"},"Lançamento: ",e.movie.release_year),React.createElement(m,{variant:"subtitle1",color:"textSecondary"},"Nota média: ",e.movie.vote_average),React.createElement(m,{variant:"subtitle1",color:"textSecondary"},"Gêneros: ",e.movie.genres),React.createElement(m,{variant:"subtitle1",paragraph:!0},e.movie.overview),e.movie.netflix_button?React.createElement(d,{variant:"contained",className:t.netflixButton,href:e.movie.homepage,target:"_blank"},"Ver na Netflix"):React.createElement("span",null)))))):React.createElement(u,{item:!0,xs:12})}function N(){return React.createElement(n,{maxWidth:"sm"},React.createElement(m,{variant:"body1"},"Made with ❤ by ",React.createElement("a",{href:"#",target:"_blank",title:"Valdir Pereira"},"Valdir Pereira")," using ⚛ and ",React.createElement("a",{href:"https://www.themoviedb.org/",target:"_blank",title:"The Movie Database"},"The Movie Database"),". © 2020"))}function j(e,t){return Math.floor(Math.random()*(1+t-e))+e}function D(){const e=w(),[t,r]=React.useState({title:""}),[i,o]=React.useState([]),[c,m]=React.useState([1900,2020]);return React.createElement("div",{className:e.root},React.createElement(l,null),React.createElement(n,{component:"main",className:e.main,maxWidth:"md"},React.createElement(P,null),React.createElement(T,{selectedGenres:i,selectGenre:o,years:c,setYears:m}),React.createElement(k,{getSuggestion:function(){let e=1900,t=2020;2===c.length&&(e=c[0],t=c[1]);let n=j(e,t),o=j(1,1),l={api_key:a,language:"pt-BR",sort_by:"popularity.desc",include_adult:!1,include_video:!1,page:o,year:n};i.length>0&&(l.with_genres=i.join(","));let m="https://api.themoviedb.org/3/discover/movie?"+new URLSearchParams(l).toString();fetch(m).then(e=>e.json()).then(e=>{let t=e.results;!function(e){let t="https://api.themoviedb.org/3/movie/"+e+"?"+new URLSearchParams({api_key:a,language:"pt-BR"}).toString();fetch(t).then(e=>e.json()).then(e=>{let t=e;t.release_year=t.release_date.split("-",1),t.genres=t.genres.map((function(e){return e.name})).join(", "),t.poster="https://placehold.it/300x700&text=Sem%20imagem",t.poster_path&&(t.poster="https://image.tmdb.org/t/p/w300/"+t.poster_path),t.homepage&&t.homepage.includes("https://www.netflix.com/title")&&(t.netflix_button=!0),r(t)},e=>{console.log(e)})}(t[Math.floor(Math.random()*t.length)].id)},e=>{console.log(e)})}}),React.createElement(R,{className:e.divider}),React.createElement(B,{movie:t})),React.createElement("footer",{className:e.footer},React.createElement(N,null)))}ReactDOM.render(React.createElement(D,null),document.getElementById("app"))}]);